<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Cards Modernos | Prato Justo</title>
    <link rel="stylesheet" href="doacoes.css">
    <link rel="stylesheet" href="notification.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .demo-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .demo-title {
            text-align: center;
            color: #1e293b;
            margin-bottom: 2rem;
        }
        
        .demo-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .btn-demo {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-demo:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .demo-info {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border-left: 4px solid #667eea;
        }
        
        .demo-info h3 {
            color: #1e293b;
            margin-bottom: 1rem;
        }
        
        .demo-info ul {
            list-style: none;
            padding: 0;
        }
        
        .demo-info li {
            padding: 0.3rem 0;
            color: #64748b;
        }
        
        .demo-info li i {
            color: #10b981;
            margin-right: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1 class="demo-title">
            <i class="fas fa-palette"></i> Demo - Cards Modernos de Doação
        </h1>
        
        <div class="demo-info">
            <h3><i class="fas fa-info-circle"></i> Características dos Cards</h3>
            <ul>
                <li><i class="fas fa-check"></i> Design moderno com bordas arredondadas e sombras suaves</li>
                <li><i class="fas fa-check"></i> Grid responsivo (3 colunas desktop, 1 coluna mobile)</li>
                <li><i class="fas fa-check"></i> Animações suaves de entrada e hover</li>
                <li><i class="fas fa-check"></i> Placeholder para imagens com efeito shimmer</li>
                <li><i class="fas fa-check"></i> Status de validade com cores diferenciadas</li>
                <li><i class="fas fa-check"></i> Botões de ação com gradientes</li>
                <li><i class="fas fa-check"></i> Destaque especial para novos cards</li>
            </ul>
        </div>
        
        <div class="demo-controls">
            <button class="btn-demo" onclick="loadSampleDonations()">
                <i class="fas fa-utensils"></i> Carregar Doações de Exemplo
            </button>
            <button class="btn-demo" onclick="addNewDonation()">
                <i class="fas fa-plus"></i> Simular Nova Doação
            </button>
            <button class="btn-demo" onclick="clearDonations()">
                <i class="fas fa-trash"></i> Limpar Cards
            </button>
        </div>
        
        <div id="doacoes-container" class="doacoes-grid">
            <!-- Cards serão inseridos aqui -->
        </div>
        
        <div id="no-donations" class="no-donations" style="display: none;">
            <i class="fas fa-search"></i>
            <h3>Nenhuma doação encontrada</h3>
            <p>Clique em "Carregar Doações de Exemplo" para ver os cards em ação.</p>
        </div>
    </div>

    <script src="notification.js"></script>
    <script src="realtime-manager.js"></script>
    
    <script>
        // ===== DADOS DE EXEMPLO PARA DEMONSTRAÇÃO =====
        const sampleDonations = [
            {
                id: 1,
                titulo: "Pães Frescos do Dia",
                descricao: "Pães artesanais feitos na manhã, ainda quentinhos. Perfeitos para café da manhã ou lanche da tarde.",
                tipoAlimento: "COZIDO",
                quantidade: 15,
                unidade: "UN",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Padaria Central" },
                imagem: null
            },
            {
                id: 2,
                titulo: "Frutas da Estação",
                descricao: "Cesta com frutas frescas da estação: bananas, maçãs, laranjas e uvas. Todas selecionadas e em perfeito estado.",
                tipoAlimento: "FRUTAS_VERDURAS",
                quantidade: 5,
                unidade: "KG",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Hortifruti Verde" },
                imagem: null
            },
            {
                id: 3,
                titulo: "Arroz e Feijão",
                descricao: "Pacotes de arroz e feijão não perecíveis, ideais para famílias. Produtos de qualidade e bem embalados.",
                tipoAlimento: "INDUSTRIALIZADO",
                quantidade: 10,
                unidade: "KG",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Supermercado Bom" },
                imagem: null
            },
            {
                id: 4,
                titulo: "Leite e Derivados",
                descricao: "Caixas de leite longa vida e queijos frescos. Produtos com validade próxima, mas ainda em perfeito estado.",
                tipoAlimento: "LATICINIOS",
                quantidade: 8,
                unidade: "L",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Laticínios São João" },
                imagem: null
            },
            {
                id: 5,
                titulo: "Refeições Prontas",
                descricao: "Pratos quentes preparados hoje: arroz, feijão, carne e salada. Ideal para famílias carentes.",
                tipoAlimento: "COZIDO",
                quantidade: 20,
                unidade: "UN",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Restaurante Solidário" },
                imagem: null
            },
            {
                id: 6,
                titulo: "Bebidas Não Alcoólicas",
                descricao: "Refrigerantes, sucos e águas. Produtos fechados e com validade longa. Perfeitos para eventos.",
                tipoAlimento: "BEBIDAS",
                quantidade: 24,
                unidade: "UN",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Distribuidora Central" },
                imagem: null
            }
        ];
        
        let currentDonations = [];
        let donationCounter = 6;
        
        // ===== FUNÇÕES DE DEMONSTRAÇÃO =====
        function loadSampleDonations() {
            currentDonations = [...sampleDonations];
            displayDonations(currentDonations);
            showNotification('Doações de exemplo carregadas!', 'success', 3000);
        }
        
        function addNewDonation() {
            const newDonation = {
                id: ++donationCounter,
                titulo: "Nova Doação " + donationCounter,
                descricao: "Esta é uma doação simulada para demonstrar o efeito de novos cards com destaque visual.",
                tipoAlimento: "INDUSTRIALIZADO",
                quantidade: Math.floor(Math.random() * 20) + 1,
                unidade: "KG",
                cidade: "São Paulo",
                dataValidade: new Date(Date.now() + (Math.floor(Math.random() * 7) + 1) * 24 * 60 * 60 * 1000).toISOString(),
                doador: { nome: "Doador " + donationCounter },
                imagem: null
            };
            
            currentDonations.unshift(newDonation);
            displayDonationsWithHighlight(currentDonations(newDonation);
            showNotification('Nova doação adicionada!', 'info', 3000);
        }
        
        function clearDonations() {
            currentDonations = [];
            document.getElementById('doacoes-container').innerHTML = '';
            document.getElementById('no-donations').style.display = 'flex';
            showNotification('Cards removidos!', 'warning', 2000);
        }
        
        // ===== FUNÇÕES DE EXIBIÇÃO (REUTILIZADAS DO doacoes.js) =====
        function displayDonations(donations) {
            const container = document.getElementById('doacoes-container');
            const noDonations = document.getElementById('no-donations');
            
            container.innerHTML = '';
            
            if (donations.length === 0) {
                noDonations.style.display = 'flex';
                return;
            }
            
            noDonations.style.display = 'none';
            
            donations.forEach((donation, index) => {
                const card = createDonationCard(donation);
                
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                container.appendChild(card);
                
                setTimeout(() => {
                    card.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 50);
            });
        }
        
        function displayDonationsWithHighlight(donations, newDonation) {
            const container = document.getElementById('doacoes-container');
            const noDonations = document.getElementById('no-donations');
            
            container.innerHTML = '';
            
            if (donations.length === 0) {
                noDonations.style.display = 'flex';
                return;
            }
            
            noDonations.style.display = 'none';
            
            donations.forEach((donation, index) => {
                const isNew = donation.id === newDonation.id;
                const card = createDonationCard(donation, isNew);
                
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                container.appendChild(card);
                
                setTimeout(() => {
                    card.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
                
                if (isNew) {
                    setTimeout(() => {
                        card.classList.add('highlight-new');
                        setTimeout(() => {
                            card.classList.remove('highlight-new');
                        }, 3000);
                    }, 200);
                }
            });
        }
        
        function createDonationCard(donation, isNew = false) {
            const card = document.createElement('div');
            card.className = isNew ? 'doacao-card new-donation' : 'doacao-card';
            
            const dataValidade = new Date(donation.dataValidade);
            const dataFormatada = dataValidade.toLocaleDateString('pt-BR');
            
            const hoje = new Date();
            hoje.setHours(0, 0, 0, 0);
            const dataVal = new Date(donation.dataValidade);
            dataVal.setHours(0, 0, 0, 0);
            
            const diasRestantes = Math.ceil((dataVal - hoje) / (1000 * 60 * 60 * 24));
            let statusClass = 'status-available';
            let statusText = 'Disponível';
            
            if (diasRestantes < 0) {
                statusClass = 'status-expired';
                statusText = 'Vencido';
            } else if (diasRestantes <= 3) {
                statusClass = 'status-urgent';
                statusText = 'Urgente';
            }
            
            const tipoLabels = {
                'INDUSTRIALIZADO': 'Industrializado',
                'COZIDO': 'Refeição Pronta',
                'CRU': 'Matéria-prima',
                'FRUTAS_VERDURAS': 'Frutas e Verduras',
                'LATICINIOS': 'Laticínios',
                'BEBIDAS': 'Bebidas'
            };
            
            const tipoLabel = tipoLabels[donation.tipoAlimento] || donation.tipoAlimento || 'Alimento';
            
            card.innerHTML = `
                <div class="doacao-image-container">
                    ${donation.imagem ? 
                        `<img src="${donation.imagem}" alt="${donation.titulo}" class="doacao-image">` :
                        `<div class="doacao-image-placeholder">
                            <i class="fas fa-utensils"></i>
                        </div>`
                    }
                </div>
                
                <div class="doacao-header">
                    <div class="doacao-type">
                        <i class="fas fa-tag"></i>
                        <span>${tipoLabel}</span>
                    </div>
                    <div class="${statusClass}">${statusText}</div>
                </div>
                
                <div class="doacao-body">
                    <h3 class="doacao-title">${donation.titulo}</h3>
                    <p class="doacao-description">${donation.descricao}</p>
                    
                    <div class="doacao-details">
                        <div class="detail-item">
                            <i class="fas fa-balance-scale"></i>
                            <span><strong>Quantidade:</strong> ${donation.quantidade} ${donation.unidade}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span><strong>Validade:</strong> ${dataFormatada}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-clock"></i>
                            <span><strong>Restam:</strong> ${diasRestantes >= 0 ? diasRestantes + ' dias' : 'Vencido'}</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span><strong>Local:</strong> ${donation.cidade}</span>
                        </div>
                    </div>
                </div>
                
                <div class="doacao-footer">
                    <div class="doacao-owner">
                        <i class="fas fa-user"></i>
                        <span>${donation.doador.nome}</span>
                    </div>
                    <button class="btn-request" onclick="alert('Funcionalidade de solicitação seria implementada aqui!')">
                        <i class="fas fa-hand-holding-heart"></i>
                        Solicitar
                    </button>
                </div>
            `;
            
            return card;
        }
        
        // ===== INICIALIZAÇÃO =====
        document.addEventListener('DOMContentLoaded', function() {
            showNotification('Demo carregado! Clique em "Carregar Doações" para ver os cards.', 'info', 4000);
        });
    </script>
</body>
</html>
